Baik, mari kita bedah satu per satu "cacat" yang Anda temukan pada proyek Anda berdasarkan kode-kode yang terakhir kita bahas dan sesuaikan.

Penting untuk diingat bahwa kode yang kita bangun adalah implementasi berdasarkan desain dan fungsionalitas dari kode awal Anda, dan beberapa fitur mungkin belum sepenuhnya diimplementasikan atau memerlukan data di database agar terlihat berfungsi.

Mari kita tinjau setiap poin:

**1) login dengan username tidak bisa dilakukan**

*   **Kemungkinan Penyebab:**
    *   **Error Database pada Fungsi Login:** Fungsi `getUserByUsernameOrEmail` di `config/database.php` yang dipanggil oleh `autentikasi/form-login.php` mengalami error saat mengeksekusi query database. Ini bisa karena masalah koneksi DB, nama tabel/kolom yang salah dalam query, atau masalah lain di DB.
    *   **Password Hashing Tidak Cocok:** Password yang tersimpan di database tidak di-hash dengan metode yang sama seperti saat `password_verify` memverifikasinya di `autentikasi/form-login.php` (biasanya `PASSWORD_DEFAULT` atau `PASSWORD_BCRYPT`). Jika password di DB berupa plaintext atau menggunakan metode hash lain, login akan selalu gagal.
    *   **Data Username/Email Salah di DB:** Username atau email yang Anda coba gunakan untuk login tidak ada di tabel `users`, atau ada typo.
    *   **Validasi PHP:** Mungkin ada validasi di `form-login.php` (selain cek kosong) yang tidak sengaja mencegah login.

*   **Bagaimana Menyelesaikan:**
    *   **Cek Log Error PHP:** Ini langkah paling penting. Aktifkan `display_errors` di `autentikasi/form-login.php` (hanya untuk debugging lokal!) atau periksa log error PHP server Anda saat mencoba login. Cari pesan `PDOException` untuk melihat detail error database yang sebenarnya. Ini akan memberi tahu query mana yang gagal dan mengapa (misalnya, nama kolom salah, koneksi putus).
    *   **Periksa Tabel `users` di Database:** Pastikan ada user di tabel `users` dengan username atau email yang Anda coba login kan. Periksa juga bagaimana password mereka tersimpan (apakah terlihat seperti hash panjang, bukan kata sandi biasa).
    *   **Periksa Fungsi `getUserByUsernameOrEmail`:** Buka `config/database.php` dan pastikan query `SELECT user_id, password FROM users WHERE username = ? OR email = ?` sudah benar dan nama tabel/kolom `users`, `user_id`, `username`, `email`, `password` cocok dengan database Anda.

**2) icon/tombol yang menangani kelola film hilang**

*   **Kemungkinan Penyebab:**
    *   **HTML Sidebar Hilang/Salah:** Link "Manage" (`<li><a href="../manage/index.php">...</a></li>`) mungkin hilang dari kode HTML sidebar di halaman tempat Anda melihat ini (misalnya, `beranda/index.php`, `favorite/index.php`, `review/index.php`, `acc_page/index.php`). Meskipun saya sudah koreksi typo sebelumnya, mungkin ada kesalahan copy-paste di file lokal Anda.
    *   **CSS Menyembunyikan Elemen:** Gaya CSS mungkin secara tidak sengaja menyembunyikan elemen tersebut. Namun, mengingat pembersihan CSS terakhir, ini kurang mungkin.
    *   **Path Link Salah:** Link `href="../manage/index.php"` salah dan mengarah ke halaman yang tidak ada atau tidak menampilkan sidebar dengan benar.

*   **Bagaimana Menyelesaikan:**
    *   **Periksa Kode HTML Sidebar:** Buka file PHP dari halaman yang sedang Anda lihat ketika masalah ini terjadi (misalnya, `beranda/index.php`). Cari bagian `<nav class="sidebar">` dan pastikan baris `<li><a href="../manage/index.php"><i class="fas fa-film"></i> <span>Manage</span></a></li>` ada di sana, dan `href`-nya benar (`../manage/index.php`). Lakukan ini untuk semua file yang menampilkan sidebar.

**3) trailer tidak bisa dijalankan**

*   **Kemungkinan Penyebab:**
    *   **Data Trailer Tidak Valid:** URL YouTube atau path file trailer yang tersimpan di database (`trailer_link` atau `trailer_file` di tabel `movies`) salah atau tidak valid.
    *   **Path File Trailer Tidak Dapat Diakses Web:** Jika Anda menggunakan kolom `trailer_file` untuk mengunggah file video, path yang tersimpan di DB (`/uploads/trailers/...`) harus dapat diakses oleh browser melalui URL web. Folder `uploads` dan sub-foldernya harus dikonfigurasi agar dapat dilayani oleh web server.
    *   **JavaScript `playTrailer` Bermasalah:** Kode JavaScript di `js/main.js` yang menangani fungsi `playTrailer` mungkin tidak berhasil memproses URL atau path yang diberikan, atau gagal mengatur `src` iframe/elemen video dengan benar. Kode `playTrailer` yang kita bahas sebelumnya memiliki catatan bahwa penanganan file lokal memerlukan elemen `<video>` dan logika JS yang berbeda dibandingkan iframe YouTube.
    *   **Browser Memblokir:** Browser mungkin memblokir pemutaran konten (misalnya, karena Mixed Content jika situs HTTPS tapi video HTTP, atau karena browser extension).
    *   **Elemen Modal/Iframe Salah:** Struktur HTML modal trailer di `review/movie-details.php` salah atau iframe-nya tidak dipasang dengan ID yang benar (`#trailer-iframe`).

*   **Bagaimana Menyelesaikan:**
    *   **Periksa Data Trailer di Database:** Lihat entri film di tabel `movies` untuk film yang Anda coba tonton trailernya. Pastikan nilai di `trailer_link` (jika pakai link YouTube) atau `trailer_file` (jika pakai file upload) terlihat benar. Coba akses langsung URL/path tersebut di browser (misal, `http://localhost/R-TALES_EX-C1/uploads/trailers/namafile.mp4`).
    *   **Cek Console Browser:** Buka console browser (biasanya F12 -> Console) saat berada di halaman detail film dan klik tombol "Watch Trailer". Lihat apakah ada pesan error JavaScript atau pesan terkait loading video/iframe.
    *   **Tinjau Kode `playTrailer`:** Buka `js/main.js` dan tinjau fungsi `playTrailer`. Jika Anda menggunakan file upload (`trailer_file`), ingat bahwa kode JS saat ini mungkin tidak sepenuhnya mendukungnya di iframe. Anda mungkin perlu memodifikasi JS untuk menggunakan elemen `<video>` atau cukup memberikan link langsung ke file trailer.

**4) gambar profil tidak bisa diganti melalui icon profil**

*   **Kemungkinan Penyebab:**
    *   **Fitur Belum Diimplementasikan Sepenuhnya:** Fitur *mengganti* gambar profil melalui icon di halaman profil **belum sepenuhnya diimplementasikan** dalam kode yang kita diskusikan. Kode `toggleEdit` di `js/main.js` hanya menangani pengeditan teks (`full_name`, `username`, `bio`). Belum ada HTML untuk elemen input file (untuk memilih gambar baru), JavaScript untuk mendeteksi klik pada gambar/icon dan memicu pemilihan file/membuka modal, atau endpoint PHP backend (`update_profile.php`) yang dapat menerima file yang diunggah dan menyimpannya/mengupdate path di DB.

*   **Bagaimana Menyelesaikan:**
    *   **Klarifikasi:** Pahami bahwa fitur ini memerlukan implementasi yang lebih lanjut. Kode yang ada hanya menampilkan gambar profil dan memungkinkan pengeditan teks profil.
    *   **Implementasi Tambahan (Jika Dibutuhkan):** Jika Anda ingin fitur ini ada, Anda perlu menambahkannya:
        *   Di `acc_page/index.php`: Tambahkan `<input type="file">` tersembunyi dan icon/tombol di dekat gambar profil yang memicu klik input file tersebut.
        *   Di `js/main.js`: Tambahkan event listener untuk icon/gambar profil, baca file yang dipilih menggunakan JavaScript `FileReader`, tampilkan preview, dan kirim file tersebut ke backend menggunakan AJAX `FormData`.
        *   Buat atau modifikasi endpoint backend (misalnya `acc_page/update_profile_picture.php`) untuk menerima file POST, memvalidasinya, menyimpannya ke folder `uploads/profiles/`, dan mengupdate kolom `profile_image` di tabel `users` untuk user yang sedang login.

**5) bagian rekomendasi/for you tidak ada yang ditampilkan**

*   **Kemungkinan Penyebab:**
    *   **Tabel `movies` Kosong:** Bagian "TRENDING" dan "For You" di halaman beranda (`beranda/index.php`) mengambil daftar film dari database menggunakan fungsi `getAllMovies()`. Jika tabel `movies` di database Anda kosong, fungsi ini akan mengembalikan array kosong, dan tidak ada film yang akan ditampilkan di bagian tersebut.

*   **Bagaimana Menyelesaikan:**
    *   **Cek Tabel `movies` di Database:** Lihat apakah tabel `movies` Anda memiliki data. Gunakan alat seperti phpMyAdmin atau klien database lainnya.
    *   **Unggah Film:** Jika tabel `movies` kosong, Anda perlu mengunggah film terlebih dahulu melalui halaman "Manage" (`manage/index.php` -> `manage/upload.php`). Setelah beberapa film berhasil diunggah dan tersimpan di database, mereka akan muncul di halaman beranda.

Semoga penjelasan rinci dan panduan penyelesaian masalah ini membantu Anda mengidentifikasi dan memperbaiki "cacat" yang Anda temui!
